(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{L6id:function(l,n,t){"use strict";t.r(n);var o=t("8Y7J");class e{}var u=t("pMnS"),i=t("MKJQ"),r=t("sZkV"),a=t("mrSG"),s=t("gTw3");class c{constructor(l,n,t){this.geolocation=l,this.alertController=n,this.toastController=t,this.setHomeLocation(),this.updateDistanceToHome()}updateDistanceToHome(){this.geolocation.getCurrentPosition().then(l=>{this.currentLat=l.coords.latitude,this.currentLon=l.coords.longitude,console.log(this.homeLat),console.log(this.homeLon),this.totalDistance=this.calculateDistance(this.currentLon,this.homeLon,this.currentLat,this.homeLat)+" Km"})}updateGeolocation(){this.geolocation.getCurrentPosition().then(l=>{this.currentLat=l.coords.latitude,this.currentLon=l.coords.longitude})}setHomeLocation(){this.geolocation.getCurrentPosition().then(l=>{this.homeLat=l.coords.latitude,this.homeLon=l.coords.longitude})}calculateDistance(l,n,t,o){let e=.017453292519943295,u=Math.cos,i=.5-u((t-o)*e)/2+u(o*e)*u(t*e)*(1-u((l-n)*e))/2,r=12742*Math.asin(Math.sqrt(i));return Math.trunc(r)}presentAlertConfirmGoingOut(){return a.a(this,void 0,void 0,(function*(){const l=yield this.alertController.create({header:"Confirma!",message:"No podr\xe1s volver a reiniciar tu salida hasta que haya pasado 1h",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:l=>{console.log("Confirm Cancel: blah")}},{text:"Acepto",handler:()=>{this.updateDistanceToHome(),this.presentToastConfirmStart()}}]});yield l.present()}))}presentToastConfirmStart(){return a.a(this,void 0,void 0,(function*(){(yield this.toastController.create({message:"Acabas de iniciar tu salida",duration:1e3})).present()}))}}var b=o.kb({encapsulation:0,styles:[["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]],data:{}});function h(l){return o.Bb(0,[(l()(),o.mb(0,0,null,null,6,"ion-header",[],null,null,null,i.o,i.d)),o.lb(1,49152,null,0,r.z,[o.h,o.k,o.x],{translucent:[0,"translucent"]},null),(l()(),o.mb(2,0,null,0,4,"ion-toolbar",[],null,null,null,i.v,i.k)),o.lb(3,49152,null,0,r.xb,[o.h,o.k,o.x],null,null),(l()(),o.mb(4,0,null,0,2,"ion-title",[],null,null,null,i.u,i.j)),o.lb(5,49152,null,0,r.vb,[o.h,o.k,o.x],null,null),(l()(),o.Ab(-1,0,[" Distant.io "])),(l()(),o.mb(7,0,null,null,46,"ion-content",[],null,null,null,i.n,i.c)),o.lb(8,49152,null,0,r.s,[o.h,o.k,o.x],{fullscreen:[0,"fullscreen"]},null),(l()(),o.mb(9,0,null,0,21,"ion-list",[],null,null,null,i.s,i.h)),o.lb(10,49152,null,0,r.M,[o.h,o.k,o.x],null,null),(l()(),o.mb(11,0,null,0,9,"ion-item",[],null,null,null,i.q,i.f)),o.lb(12,49152,null,0,r.F,[o.h,o.k,o.x],null,null),(l()(),o.mb(13,0,null,0,2,"ion-label",[],null,null,null,i.r,i.g)),o.lb(14,49152,null,0,r.L,[o.h,o.k,o.x],null,null),(l()(),o.Ab(15,0,["",""])),(l()(),o.mb(16,0,null,0,1,"ion-icon",[["name","home-outline"],["slot","start"]],null,null,null,i.p,i.e)),o.lb(17,49152,null,0,r.A,[o.h,o.k,o.x],{name:[0,"name"]},null),(l()(),o.mb(18,0,null,0,2,"ion-note",[["color","primary"],["slot","end"]],null,null,null,i.t,i.i)),o.lb(19,49152,null,0,r.T,[o.h,o.k,o.x],{color:[0,"color"]},null),(l()(),o.Ab(-1,0,["Distancia a casa"])),(l()(),o.mb(21,0,null,0,9,"ion-item",[],null,null,null,i.q,i.f)),o.lb(22,49152,null,0,r.F,[o.h,o.k,o.x],null,null),(l()(),o.mb(23,0,null,0,2,"ion-label",[],null,null,null,i.r,i.g)),o.lb(24,49152,null,0,r.L,[o.h,o.k,o.x],null,null),(l()(),o.Ab(-1,0,["1h"])),(l()(),o.mb(26,0,null,0,1,"ion-icon",[["name","hourglass-outline"],["slot","start"]],null,null,null,i.p,i.e)),o.lb(27,49152,null,0,r.A,[o.h,o.k,o.x],{name:[0,"name"]},null),(l()(),o.mb(28,0,null,0,2,"ion-note",[["color","primary"],["slot","end"]],null,null,null,i.t,i.i)),o.lb(29,49152,null,0,r.T,[o.h,o.k,o.x],{color:[0,"color"]},null),(l()(),o.Ab(-1,0,["Tiempo para volver a casa"])),(l()(),o.mb(31,0,null,0,2,"ion-button",[["color","success"],["expand","block"]],null,[[null,"click"]],(function(l,n,t){var o=!0;return"click"===n&&(o=!1!==l.component.presentAlertConfirmGoingOut()&&o),o}),i.m,i.b)),o.lb(32,49152,null,0,r.i,[o.h,o.k,o.x],{color:[0,"color"],expand:[1,"expand"]},null),(l()(),o.Ab(-1,0,["Empezar salida"])),(l()(),o.mb(34,0,null,0,4,"ion-item",[],null,null,null,i.q,i.f)),o.lb(35,49152,null,0,r.F,[o.h,o.k,o.x],null,null),(l()(),o.mb(36,0,null,0,2,"ion-label",[["class","ion-text-wrap"]],null,null,null,i.r,i.g)),o.lb(37,49152,null,0,r.L,[o.h,o.k,o.x],null,null),(l()(),o.Ab(38,0,[" My Latitude: "," "])),(l()(),o.mb(39,0,null,0,4,"ion-item",[],null,null,null,i.q,i.f)),o.lb(40,49152,null,0,r.F,[o.h,o.k,o.x],null,null),(l()(),o.mb(41,0,null,0,2,"ion-label",[["class","ion-text-wrap"]],null,null,null,i.r,i.g)),o.lb(42,49152,null,0,r.L,[o.h,o.k,o.x],null,null),(l()(),o.Ab(43,0,[" My Longitude: "," "])),(l()(),o.mb(44,0,null,0,4,"ion-item",[],null,null,null,i.q,i.f)),o.lb(45,49152,null,0,r.F,[o.h,o.k,o.x],null,null),(l()(),o.mb(46,0,null,0,2,"ion-label",[["class","ion-text-wrap"]],null,null,null,i.r,i.g)),o.lb(47,49152,null,0,r.L,[o.h,o.k,o.x],null,null),(l()(),o.Ab(48,0,[" Home Latitude: "," "])),(l()(),o.mb(49,0,null,0,4,"ion-item",[],null,null,null,i.q,i.f)),o.lb(50,49152,null,0,r.F,[o.h,o.k,o.x],null,null),(l()(),o.mb(51,0,null,0,2,"ion-label",[["class","ion-text-wrap"]],null,null,null,i.r,i.g)),o.lb(52,49152,null,0,r.L,[o.h,o.k,o.x],null,null),(l()(),o.Ab(53,0,[" Home Longitude: "," "]))],(function(l,n){l(n,1,0,!0),l(n,8,0,!0),l(n,17,0,"home-outline"),l(n,19,0,"primary"),l(n,27,0,"hourglass-outline"),l(n,29,0,"primary"),l(n,32,0,"success","block")}),(function(l,n){var t=n.component;l(n,15,0,t.totalDistance),l(n,38,0,t.currentLat),l(n,43,0,t.currentLon),l(n,48,0,t.homeLat),l(n,53,0,t.homeLon)}))}function m(l){return o.Bb(0,[(l()(),o.mb(0,0,null,null,1,"app-home",[],null,null,null,h,b)),o.lb(1,49152,null,0,c,[s.a,r.a,r.Fb],null,null)],null,null)}var d=o.ib("app-home",c,m,{},{},[]),p=t("SVse"),g=t("s7LF"),x=t("iInd");class f{}t.d(n,"HomePageModuleNgFactory",(function(){return v}));var v=o.jb(e,[],(function(l){return o.ub([o.vb(512,o.j,o.V,[[8,[u.a,d]],[3,o.j],o.v]),o.vb(4608,p.i,p.h,[o.s,[2,p.o]]),o.vb(4608,g.c,g.c,[]),o.vb(4608,r.b,r.b,[o.x,o.g]),o.vb(4608,r.Bb,r.Bb,[r.b,o.j,o.p]),o.vb(4608,r.Eb,r.Eb,[r.b,o.j,o.p]),o.vb(1073742336,p.b,p.b,[]),o.vb(1073742336,g.b,g.b,[]),o.vb(1073742336,g.a,g.a,[]),o.vb(1073742336,r.zb,r.zb,[]),o.vb(1073742336,x.n,x.n,[[2,x.s],[2,x.m]]),o.vb(1073742336,f,f,[]),o.vb(1073742336,e,e,[]),o.vb(1024,x.k,(function(){return[[{path:"",component:c}]]}),[])])}))},s7LF:function(l,n,t){"use strict";var o=t("8Y7J");t("cUpR"),t("HDdC"),t("DH7j"),t("lJxs"),t("XoHu"),t("Cfvw"),t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return e})),t.d(n,"a",(function(){return r}));class e{constructor(){this._accessors=[]}add(l,n){this._accessors.push([l,n])}remove(l){for(let n=this._accessors.length-1;n>=0;--n)if(this._accessors[n][1]===l)return void this._accessors.splice(n,1)}select(l){this._accessors.forEach(n=>{this._isSameGroup(n,l)&&n[1]!==l&&n[1].fireUncheck(l.value)})}_isSameGroup(l,n){return!!l[0].control&&l[0]._parent===n._control._parent&&l[1].name===n.name}}const u=new o.o("NgFormSelectorWarning");class i{}class r{static withConfig(l){return{ngModule:r,providers:[{provide:u,useValue:l.warnOnDeprecatedNgFormSelector}]}}}}}]);