function _defineProperties(n,t){for(var e=0;e<t.length;e++){var l=t[e];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{L6id:function(n,t,e){"use strict";e.r(t);var l=e("8Y7J"),o=function n(){_classCallCheck(this,n)},a=e("pMnS"),r=e("MKJQ"),i=e("sZkV"),u=e("SVse"),s=e("mrSG"),c=e("gTw3"),h=e("2Vo4"),m=function(){function n(t,e,l){_classCallCheck(this,n),this.geolocation=t,this.alertController=e,this.toastController=l,this.time=new h.a("00:00"),this.setHomeLocation(),this.updateDistanceToHome();var o=this;setTimeout((function(){o.GoogleMap()}),2e3)}return _createClass(n,[{key:"GoogleMap",value:function(){this.map=new google.maps.Map(document.getElementById("map"),{zoom:15,center:{lat:this.homeLat,lng:this.homeLon}}),new google.maps.Marker({position:{lat:this.homeLat,lng:this.homeLon},map:this.map,icon:"assets/img/mapMarkerHome.png"})}},{key:"updateDistanceToHome",value:function(){var n=this;this.geolocation.getCurrentPosition().then((function(t){n.currentLat=t.coords.latitude,n.currentLon=t.coords.longitude,console.log(n.homeLat),console.log(n.homeLon),n.totalDistance=n.calculateDistance(n.currentLon,n.homeLon,n.currentLat,n.homeLat)+""}))}},{key:"updateGeolocation",value:function(){var n=this;this.geolocation.getCurrentPosition().then((function(t){n.currentLat=t.coords.latitude,n.currentLon=t.coords.longitude}))}},{key:"setHomeLocation",value:function(){var n=this;this.geolocation.getCurrentPosition().then((function(t){n.homeLat=t.coords.latitude,n.homeLon=t.coords.longitude}))}},{key:"calculateDistance",value:function(n,t,e,l){var o=(l-e)*Math.PI/180,a=(t-n)*Math.PI/180,r=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e*Math.PI/180)*Math.cos(l*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371;return i>1?Math.round(i)+" km":i<=1?Math.round(1e3*i)+" m":i}},{key:"presentAlertConfirmGoingOut",value:function(){return s.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({header:"Confirma!",message:"No podr\xe1s volver a reiniciar tu salida hasta que haya pasado 1h",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:function(n){console.log("Confirm Cancel: blah")}},{text:"Acepto",handler:function(){e.updateDistanceToHome(),e.startTimer(60),e.presentToastConfirmStart()}}]});case 2:return t=n.sent,n.next=5,t.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"presentToastConfirmStart",value:function(){return s.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.toastController.create({message:"Acabas de iniciar tu salida",duration:1e3});case 2:n.sent.present();case 3:case"end":return n.stop()}}),n,this)})))}},{key:"startTimer",value:function(n){var t=this;clearInterval(this.interval),this.timeLeft=60*n,this.interval=setInterval((function(){t.updateDistanceToHome(),t.updateTimeValue()}),1e3)}},{key:"updateTimeValue",value:function(){var n=this.timeLeft/60,t=this.timeLeft%60;n=String("0"+Math.floor(n)).slice(-2),t=String("0"+Math.floor(t)).slice(-2),this.time.next(n+" : "+t),--this.timeLeft,0==this.timeLeft&&this.startTimer(5)}}]),n}(),b=l.kb({encapsulation:0,styles:[["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}#map[_ngcontent-%COMP%]{height:620px;width:100%}"]],data:{}});function f(n){return l.Db(0,[(n()(),l.mb(0,0,null,null,6,"ion-header",[],null,null,null,r.o,r.d)),l.lb(1,49152,null,0,i.z,[l.h,l.k,l.x],{translucent:[0,"translucent"]},null),(n()(),l.mb(2,0,null,0,4,"ion-toolbar",[],null,null,null,r.v,r.k)),l.lb(3,49152,null,0,i.xb,[l.h,l.k,l.x],null,null),(n()(),l.mb(4,0,null,0,2,"ion-title",[],null,null,null,r.u,r.j)),l.lb(5,49152,null,0,i.vb,[l.h,l.k,l.x],null,null),(n()(),l.Bb(-1,0,[" Distant.io "])),(n()(),l.mb(7,0,null,null,28,"ion-content",[],null,null,null,r.n,r.c)),l.lb(8,49152,null,0,i.s,[l.h,l.k,l.x],{fullscreen:[0,"fullscreen"]},null),(n()(),l.mb(9,0,null,0,22,"ion-list",[],null,null,null,r.s,r.h)),l.lb(10,49152,null,0,i.M,[l.h,l.k,l.x],null,null),(n()(),l.mb(11,0,null,0,9,"ion-item",[],null,null,null,r.q,r.f)),l.lb(12,49152,null,0,i.F,[l.h,l.k,l.x],null,null),(n()(),l.mb(13,0,null,0,2,"ion-label",[],null,null,null,r.r,r.g)),l.lb(14,49152,null,0,i.L,[l.h,l.k,l.x],null,null),(n()(),l.Bb(15,0,["",""])),(n()(),l.mb(16,0,null,0,1,"ion-icon",[["name","home-outline"],["slot","start"]],null,null,null,r.p,r.e)),l.lb(17,49152,null,0,i.A,[l.h,l.k,l.x],{name:[0,"name"]},null),(n()(),l.mb(18,0,null,0,2,"ion-note",[["color","primary"],["slot","end"]],null,null,null,r.t,r.i)),l.lb(19,49152,null,0,i.T,[l.h,l.k,l.x],{color:[0,"color"]},null),(n()(),l.Bb(-1,0,["Distancia a casa"])),(n()(),l.mb(21,0,null,0,10,"ion-item",[],null,null,null,r.q,r.f)),l.lb(22,49152,null,0,i.F,[l.h,l.k,l.x],null,null),(n()(),l.mb(23,0,null,0,3,"ion-label",[],null,null,null,r.r,r.g)),l.lb(24,49152,null,0,i.L,[l.h,l.k,l.x],null,null),(n()(),l.Bb(25,0,["",""])),l.yb(131072,u.b,[l.h]),(n()(),l.mb(27,0,null,0,1,"ion-icon",[["name","hourglass-outline"],["slot","start"]],null,null,null,r.p,r.e)),l.lb(28,49152,null,0,i.A,[l.h,l.k,l.x],{name:[0,"name"]},null),(n()(),l.mb(29,0,null,0,2,"ion-note",[["color","primary"],["slot","end"]],null,null,null,r.t,r.i)),l.lb(30,49152,null,0,i.T,[l.h,l.k,l.x],{color:[0,"color"]},null),(n()(),l.Bb(-1,0,["Tiempo restante"])),(n()(),l.mb(32,0,null,0,2,"ion-button",[["color","secondary"],["expand","block"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.presentAlertConfirmGoingOut()&&l),l}),r.m,r.b)),l.lb(33,49152,null,0,i.i,[l.h,l.k,l.x],{color:[0,"color"],expand:[1,"expand"]},null),(n()(),l.Bb(-1,0,["Empezar salida"])),(n()(),l.mb(35,0,null,0,0,"div",[["id","map"],["style","overflow: hidden"]],null,null,null,null,null))],(function(n,t){n(t,1,0,!0),n(t,8,0,!0),n(t,17,0,"home-outline"),n(t,19,0,"primary"),n(t,28,0,"hourglass-outline"),n(t,30,0,"primary"),n(t,33,0,"secondary","block")}),(function(n,t){var e=t.component;n(t,15,0,e.totalDistance),n(t,25,0,l.Cb(t,25,0,l.xb(t,26).transform(e.time)))}))}var p=l.ib("app-home",m,(function(n){return l.Db(0,[(n()(),l.mb(0,0,null,null,1,"app-home",[],null,null,null,f,b)),l.lb(1,49152,null,0,m,[c.a,i.a,i.Fb],null,null)],null,null)}),{},{},[]),d=e("s7LF"),v=e("iInd"),g=function n(){_classCallCheck(this,n)};e.d(t,"HomePageModuleNgFactory",(function(){return k}));var k=l.jb(o,[],(function(n){return l.ub([l.vb(512,l.j,l.V,[[8,[a.a,p]],[3,l.j],l.v]),l.vb(4608,u.j,u.i,[l.s,[2,u.p]]),l.vb(4608,d.c,d.c,[]),l.vb(4608,i.b,i.b,[l.x,l.g]),l.vb(4608,i.Bb,i.Bb,[i.b,l.j,l.p]),l.vb(4608,i.Eb,i.Eb,[i.b,l.j,l.p]),l.vb(1073742336,u.c,u.c,[]),l.vb(1073742336,d.b,d.b,[]),l.vb(1073742336,d.a,d.a,[]),l.vb(1073742336,i.zb,i.zb,[]),l.vb(1073742336,v.n,v.n,[[2,v.s],[2,v.m]]),l.vb(1073742336,g,g,[]),l.vb(1073742336,o,o,[]),l.vb(1024,v.k,(function(){return[[{path:"",component:m}]]}),[])])}))},s7LF:function(n,t,e){"use strict";var l=e("8Y7J");e("cUpR"),e("HDdC"),e("DH7j"),e("lJxs"),e("XoHu"),e("Cfvw"),e.d(t,"b",(function(){return r})),e.d(t,"c",(function(){return o})),e.d(t,"a",(function(){return i}));var o=function(){function n(){_classCallCheck(this,n),this._accessors=[]}return _createClass(n,[{key:"add",value:function(n,t){this._accessors.push([n,t])}},{key:"remove",value:function(n){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===n)return void this._accessors.splice(t,1)}},{key:"select",value:function(n){var t=this;this._accessors.forEach((function(e){t._isSameGroup(e,n)&&e[1]!==n&&e[1].fireUncheck(n.value)}))}},{key:"_isSameGroup",value:function(n,t){return!!n[0].control&&n[0]._parent===t._control._parent&&n[1].name===t.name}}]),n}(),a=new l.o("NgFormSelectorWarning"),r=function n(){_classCallCheck(this,n)},i=function(){function n(){_classCallCheck(this,n)}return _createClass(n,null,[{key:"withConfig",value:function(t){return{ngModule:n,providers:[{provide:a,useValue:t.warnOnDeprecatedNgFormSelector}]}}}]),n}()}}]);